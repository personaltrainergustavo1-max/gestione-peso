export async function fetchClientData(){
  const resp = await fetch('/api/client-data');
  return resp.json();
}

export async function fetchAdminData(){
  const resp = await fetch('/api/admin-data');
  return resp.json();
}

export async function uploadPhoto(clientId,file){
  const token = localStorage.getItem('idToken'); // Firebase Auth token
  const resp = await fetch(`/upload/${clientId}`,{
    method:'PUT',
    headers:{ 'Authorization': `Bearer ${token}` },
    body:file
  });
  if(!resp.ok) alert('Upload fallito');
  else alert('Upload completato');
}

export async function approveAdvice(id,value){
  const resp = await fetch(`/api/approve/advice/${id}`,{
    method:'POST',
    body: JSON.stringify({ approved: value }),
    headers:{'Content-Type':'application/json'}
  });
}

export async function approveRecipe(id,value){
  const resp = await fetch(`/api/approve/recipe/${id}`,{
    method:'POST',
    body: JSON.stringify({ approved: value }),
    headers:{'Content-Type':'application/json'}
  });
}
